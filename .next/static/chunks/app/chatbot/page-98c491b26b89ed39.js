(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[678],{7532:(e,t,s)=>{Promise.resolve().then(s.bind(s,4361))},4361:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var l=s(5155),a=s(2115),n=s(5446),r=s(8183);function i(e){let{role:t,content:s}=e,a="user"===t,n="string"!=typeof s;return(0,l.jsx)("div",{className:"flex w-full ".concat(a?"justify-end":"justify-start"),children:(0,l.jsx)("div",{className:"".concat(a?"bg-blue-600 text-white":"bg-white text-[#111215]"," max-w-[80%] rounded-2xl px-4 py-3 shadow"),children:n?(0,l.jsx)("pre",{className:"max-h-80 overflow-auto whitespace-pre-wrap break-words font-mono text-sm",children:JSON.stringify(s,null,2)}):(0,l.jsx)("div",{className:"whitespace-pre-wrap break-words text-sm",children:s})})})}function c(){let[e,t]=(0,a.useState)("Need all content for video-section-header"),[s,c]=(0,a.useState)([{role:"assistant",content:'Ask me about a section, e.g., "video-section-header"'}]),[o,d]=(0,a.useState)(!1),x=(0,a.useRef)(null);(0,a.useEffect)(()=>{x.current&&(x.current.scrollTop=x.current.scrollHeight)},[s]);let m=async()=>{let s=e.trim();if(s){c(e=>[...e,{role:"user",content:s}]),t(""),d(!0);try{var l,a;let e=await fetch("/api/chatbot/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:s,limit:1e3})}),t=await e.json();if(!e.ok)throw Error(null!==(l=null==t?void 0:t.error)&&void 0!==l?l:"Chatbot request failed.");let n=null!==(a=t.body)&&void 0!==a?a:t,r=Array.isArray(n)?"Found ".concat(n.length," items for your request."):"Here are your results.";c(e=>[...e,{role:"assistant",content:r},{role:"assistant",content:n}])}catch(e){c(t=>[...t,{role:"assistant",content:e instanceof Error?e.message:"Something went wrong. Please try again."}])}finally{d(!1)}}};return(0,l.jsxs)(n.l,{currentStep:"ingestion",children:[(0,l.jsx)(r.F,{title:"Chatbot",description:"Ask natural-language questions about your content. Responses stream from the Spring Boot ChatBotController."}),(0,l.jsx)("main",{className:"mx-auto w-full max-w-4xl px-6 py-10",children:(0,l.jsxs)("div",{className:"flex flex-col gap-4 rounded-[16px] bg-[#f9f9f9] px-4 py-6 md:px-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold text-[#111215]",children:"Chatbot"}),(0,l.jsx)("a",{href:"/search",className:"text-sm font-semibold text-[#2180f9] hover:underline",children:"Back to Search"})]}),(0,l.jsxs)("div",{ref:x,className:"flex h-[60vh] flex-col gap-3 overflow-auto rounded-xl bg-gray-100 p-4",children:[s.map((e,t)=>(0,l.jsx)(i,{role:e.role,content:e.content},"".concat(e.role,"-").concat(t))),o&&(0,l.jsx)("div",{className:"text-center text-sm text-gray-500",children:"Thinking…"})]}),(0,l.jsxs)("div",{className:"flex items-end gap-2 rounded-xl bg-white p-2 shadow",children:[(0,l.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m())},rows:2,placeholder:"Type a message...",className:"flex-1 resize-none border-0 p-2 text-sm outline-none"}),(0,l.jsx)("button",{type:"button",onClick:()=>void m(),disabled:o,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-blue-700 disabled:opacity-50",children:"Send"})]})]})})]})}},5446:(e,t,s)=>{"use strict";s.d(t,{l:()=>N});var l=s(5155),a=s(368),n=s(3623),r=s(2607),i=s(7721),c=s(4068),o=s(8173),d=s.n(o),x=s(1270),m=s(4158),h=s(707),p=s(4978),f=s(3463);let u=[{id:"ingestion",label:"Ingestion",icon:x.A},{id:"extraction",label:"Extraction",icon:m.A},{id:"cleansing",label:"Cleansing",icon:h.A},{id:"enrichment",label:"Data Enrichment",icon:p.A}],b={done:{circle:"border-slate-900 bg-slate-900 text-white shadow-[0_8px_20px_rgba(15,23,42,0.25)]",label:"text-slate-900",connector:"bg-slate-900"},current:{circle:"border-slate-900 bg-slate-900 text-white shadow-[0_8px_20px_rgba(15,23,42,0.25)] scale-105",label:"text-slate-900",connector:"bg-slate-900"},upcoming:{circle:"border-slate-200 bg-white text-slate-400",label:"text-slate-400",connector:"bg-slate-200"}};function g(e){let{current:t}=e,s=Math.max(0,u.findIndex(e=>e.id===t));return(0,l.jsx)("nav",{className:"w-full text-xs",children:(0,l.jsx)("div",{className:"rounded-[28px] border border-slate-200 bg-white px-6 py-5 shadow-[0_20px_50px_rgba(15,23,42,0.08)]",children:(0,l.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-slate-400",children:[(0,l.jsx)("span",{children:"Pipeline"}),(0,l.jsxs)("span",{children:["Step ",Math.min(s+1,u.length)," of ",u.length]})]}),(0,l.jsx)("div",{className:"flex flex-col gap-6 md:flex-row md:items-center",children:u.map((e,t)=>{let a=b[t<s?"done":t===s?"current":"upcoming"],n=e.icon,r=t<s;return(0,l.jsxs)("div",{className:(0,f.A)("flex items-center gap-4 md:flex-1",t===u.length-1&&"md:flex-initial"),children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,l.jsx)("div",{className:(0,f.A)("flex size-14 items-center justify-center rounded-full border-2 transition-transform duration-200",a.circle),children:(0,l.jsx)(n,{className:"size-5"})}),(0,l.jsx)("span",{className:(0,f.A)("text-[0.7rem] font-semibold",a.label),children:e.label})]}),t<u.length-1&&(0,l.jsx)("div",{className:"hidden flex-1 md:block",children:(0,l.jsx)("div",{className:"relative h-[2px] w-full rounded-full bg-slate-200",children:(0,l.jsx)("span",{className:(0,f.A)("absolute inset-y-0 left-0 rounded-full transition-all duration-300",r&&a.connector),style:{width:r?"100%":"0%"}})})})]},e.id)})})]})})})}let j=[{label:"Workspace Overview",href:"/ingestion",icon:a.A},{label:"Upload Activity",href:"/ingestion/activity",icon:n.A},{label:"Pipeline Health",href:"/extraction",icon:r.A},{label:"Search Finder",href:"/search",icon:i.A}];function N(e){let{currentStep:t,children:s}=e;return(0,l.jsxs)("div",{className:"flex min-h-screen bg-[#f7f9fb] text-slate-900",children:[(0,l.jsxs)("aside",{className:"sticky top-0 hidden h-screen w-72 flex-col border-r border-slate-200 bg-white/90 px-6 py-8 shadow-[20px_0_45px_rgba(15,23,42,0.06)] backdrop-blur lg:flex",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-slate-900 text-2xl text-white shadow-[0_15px_40px_rgba(15,23,42,0.3)]",children:""}),(0,l.jsxs)("div",{className:"leading-tight",children:[(0,l.jsx)("p",{className:"text-[0.80rem] font-semibold uppercase tracking-[0.80em] text-slate-900",children:"Content"}),(0,l.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:"Lake"})]})]}),(0,l.jsx)("nav",{className:"mt-10 flex flex-1 flex-col gap-8 text-sm",children:(0,l.jsx)(v,{title:"Workspace",links:j})}),(0,l.jsxs)("div",{className:"space-y-4 text-xs text-slate-500",children:[(0,l.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,l.jsx)("p",{className:"font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Storage"}),(0,l.jsxs)("div",{className:"mt-3 flex items-end justify-between",children:[(0,l.jsx)("p",{className:"text-3xl font-semibold text-slate-900",children:"82%"}),(0,l.jsx)("span",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.25em]",children:"Used"})]}),(0,l.jsx)("div",{className:"mt-3 h-2 rounded-full bg-white",children:(0,l.jsx)("span",{className:"block h-full rounded-full bg-slate-900",style:{width:"82%"}})})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3",children:[(0,l.jsx)("p",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.25em] text-slate-400",children:"Need help?"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:"Talk with a pipeline specialist."}),(0,l.jsxs)("button",{className:"mt-3 inline-flex w-full items-center justify-center gap-2 rounded-2xl border border-slate-900 px-3 py-2 text-xs font-semibold tracking-wide text-slate-900 transition hover:bg-slate-900 hover:text-white",children:[(0,l.jsx)(c.A,{className:"size-4"}),"Contact Support"]})]})]})]}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/95 px-4 py-4 text-sm font-semibold text-slate-900 shadow-sm lg:hidden",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("span",{children:"Content Lake"}),(0,l.jsx)("span",{className:"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400",children:"\xb7 Workflow"})]}),(0,l.jsx)("span",{children:t})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"sticky top-0 z-30 border-b border-slate-200 bg-[#f7f9fb]/90 backdrop-blur",children:(0,l.jsx)("div",{className:"mx-auto max-w-6xl px-6 py-6",children:(0,l.jsx)(g,{current:t})})}),(0,l.jsx)("div",{children:s})]})]})]})}function v(e){let{title:t,links:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:t}),(0,l.jsx)("div",{className:"mt-3 space-y-1.5",children:s.map(e=>(0,l.jsxs)(d(),{href:e.href,className:"flex items-center gap-3 rounded-2xl px-3 py-2 font-semibold text-slate-500 transition hover:text-slate-900",children:[(0,l.jsx)(e.icon,{className:"size-4 text-slate-900"}),e.label]},e.href))})]})}},8183:(e,t,s)=>{"use strict";s.d(t,{F:()=>a});var l=s(5155);function a(e){let{title:t,description:s,eyebrow:a,actionsSlot:n}=e;return(0,l.jsx)("section",{className:"border-b border-slate-200 bg-[#f7f9fb]",children:(0,l.jsxs)("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-3 px-6 py-10",children:[a&&(0,l.jsx)("span",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:a}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("h1",{className:"text-4xl font-semibold text-slate-900",children:t}),s&&(0,l.jsx)("p",{className:"text-base text-slate-500 lg:max-w-2xl",children:s})]}),n&&(0,l.jsx)("div",{className:"flex items-end justify-start lg:justify-end",children:n})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[550,441,517,358],()=>t(7532)),_N_E=e.O()}]);