(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83325,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},14872,10259,e=>{"use strict";var t=e.i(69071);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"}))});e.s(["ArrowPathRoundedSquareIcon",0,r],14872);let s=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))});e.s(["ArrowTrendingUpIcon",0,s],10259)},2067,e=>{"use strict";var t=e.i(69071);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))});e.s(["CloudArrowUpIcon",0,r],2067)},33318,e=>{"use strict";var t=e.i(69071);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"}))});e.s(["HomeModernIcon",0,r],33318)},97804,e=>{"use strict";var t=e.i(69071);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});e.s(["MagnifyingGlassIcon",0,r],97804)},37407,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={assign:function(){return o},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return i}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});function n(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,l(e));else t.set(r,l(s));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,s]of r.entries())e.append(t,s)}return e}},95597,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={formatUrl:function(){return i},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=e.r(47441)._(e.r(37407)),l=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:r}=e,s=e.protocol||"",a=e.pathname||"",i=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(n.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||l.test(s))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),d&&"?"!==d[0]&&(d="?"+d),a=a.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${s}${c}${a}${d}${i}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return i(e)}},92890,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let s=e.r(69071);function a(e,t){let r=(0,s.useRef)(null),a=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=n(e,s)),t&&(a.current=n(t,s))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94212,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return w},MissingStaticPage:function(){return j},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return p},ST:function(){return h},WEB_VITALS:function(){return n},execOnce:function(){return l},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return m},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return x},stringifyError:function(){return v}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...s)=>(r||(r=!0,t=e(...s)),t)}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function x(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&m(r))return s;if(!s)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${s}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let p="undefined"!=typeof performance,h=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class w extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},17628,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let s=e.r(94212),a=e.r(89489);function n(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},43442,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},21839,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return g},useLinkStatus:function(){return y}};for(var a in s)Object.defineProperty(r,a,{enumerable:!0,get:s[a]});let n=e.r(47441),l=e.r(42516),i=n._(e.r(69071)),o=e.r(95597),c=e.r(39749),d=e.r(92890),u=e.r(94212),m=e.r(59717);e.r(83325);let x=e.r(11565),f=e.r(17628),p=e.r(796);function h(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let s,a,n,[o,g]=(0,i.useOptimistic)(x.IDLE_LINK_STATUS),y=(0,i.useRef)(null),{href:j,as:w,children:v,prefetch:N=null,passHref:k,replace:E,shallow:S,scroll:_,onClick:I,onMouseEnter:C,onTouchStart:T,legacyBehavior:R=!1,onNavigate:A,ref:L,unstable_dynamicOnHover:M,...O}=t;s=v,R&&("string"==typeof s||"number"==typeof s)&&(s=(0,l.jsx)("a",{children:s}));let P=i.default.useContext(c.AppRouterContext),F=!1!==N,D=!1!==N?null===(r=N)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:U,as:$}=i.default.useMemo(()=>{let e=h(j);return{href:e,as:w?h(w):e}},[j,w]);if(R){if(s?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=i.default.Children.only(s)}let B=R?a&&"object"==typeof a&&a.ref:L,W=i.default.useCallback(e=>(null!==P&&(y.current=(0,x.mountLinkInstance)(e,U,P,D,F,g)),()=>{y.current&&((0,x.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,x.unmountPrefetchableInstance)(e)}),[F,U,P,D,g]),H={ref:(0,d.useMergedRef)(W,B),onClick(t){R||"function"!=typeof I||I(t),R&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!P||t.defaultPrevented||function(t,r,s,a,n,l,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(61181);i.default.startTransition(()=>{u(s||r,n?"replace":"push",l??!0,a.current)})}}(t,U,$,y,E,_,A)},onMouseEnter(e){R||"function"!=typeof C||C(e),R&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),P&&F&&(0,x.onNavigationIntent)(e.currentTarget,!0===M)},onTouchStart:function(e){R||"function"!=typeof T||T(e),R&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),P&&F&&(0,x.onNavigationIntent)(e.currentTarget,!0===M)}};return(0,u.isAbsoluteUrl)($)?H.href=$:R&&!k&&("a"!==a.type||"href"in a.props)||(H.href=(0,m.addBasePath)($)),n=R?i.default.cloneElement(a,H):(0,l.jsx)("a",{...O,...H,children:s}),(0,l.jsx)(b.Provider,{value:o,children:n})}e.r(43442);let b=(0,i.createContext)(x.IDLE_LINK_STATUS),y=()=>(0,i.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},58903,e=>{"use strict";var t=e.i(69071);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))});e.s(["ArrowUpTrayIcon",0,r],58903)},39560,61601,76566,e=>{"use strict";var t=e.i(69071);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))});e.s(["BeakerIcon",0,r],39560);let s=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))});e.s(["DocumentMagnifyingGlassIcon",0,s],61601);let a=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))});e.s(["SparklesIcon",0,a],76566)},11749,e=>{"use strict";e.s(["default",0,function(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}])},6330,25180,e=>{"use strict";var t=e.i(42516),r=e.i(14872),s=e.i(10259),a=e.i(2067),n=e.i(33318),l=e.i(97804),i=e.i(21839),o=e.i(58903),c=e.i(39560),d=e.i(61601),u=e.i(76566),m=e.i(11749);let x=[{id:"ingestion",label:"Ingestion",icon:o.ArrowUpTrayIcon},{id:"extraction",label:"Extraction",icon:d.DocumentMagnifyingGlassIcon},{id:"cleansing",label:"Cleansing",icon:u.SparklesIcon},{id:"enrichment",label:"Data Enrichment",icon:c.BeakerIcon}],f={done:{circle:"border-slate-900 bg-slate-900 text-white shadow-[0_8px_20px_rgba(15,23,42,0.25)]",label:"text-slate-900",connector:"bg-slate-900"},current:{circle:"border-slate-900 bg-slate-900 text-white shadow-[0_8px_20px_rgba(15,23,42,0.25)] scale-105",label:"text-slate-900",connector:"bg-slate-900"},upcoming:{circle:"border-slate-200 bg-white text-slate-400",label:"text-slate-400",connector:"bg-slate-200"}};function p({current:e}){let r=Math.max(0,x.findIndex(t=>t.id===e));return(0,t.jsx)("nav",{className:"w-full text-xs",children:(0,t.jsx)("div",{className:"rounded-[28px] border border-slate-200 bg-white px-6 py-5 shadow-[0_20px_50px_rgba(15,23,42,0.08)]",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-[0.65rem] font-semibold uppercase tracking-[0.3em] text-slate-400",children:[(0,t.jsx)("span",{children:"Pipeline"}),(0,t.jsxs)("span",{children:["Step ",Math.min(r+1,x.length)," of ",x.length]})]}),(0,t.jsx)("div",{className:"flex flex-col gap-6 md:flex-row md:items-center",children:x.map((e,s)=>{let a=f[s<r?"done":s===r?"current":"upcoming"],n=e.icon,l=s<r;return(0,t.jsxs)("div",{className:(0,m.default)("flex items-center gap-4 md:flex-1",s===x.length-1&&"md:flex-initial"),children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 text-center",children:[(0,t.jsx)("div",{className:(0,m.default)("flex size-14 items-center justify-center rounded-full border-2 transition-transform duration-200",a.circle),children:(0,t.jsx)(n,{className:"size-5"})}),(0,t.jsx)("span",{className:(0,m.default)("text-[0.7rem] font-semibold",a.label),children:e.label})]}),s<x.length-1&&(0,t.jsx)("div",{className:"hidden flex-1 md:block",children:(0,t.jsx)("div",{className:"relative h-[2px] w-full rounded-full bg-slate-200",children:(0,t.jsx)("span",{className:(0,m.default)("absolute inset-y-0 left-0 rounded-full transition-all duration-300",l&&a.connector),style:{width:l?"100%":"0%"}})})})]},e.id)})})]})})})}let h=[{label:"Workspace Overview",href:"/ingestion",icon:n.HomeModernIcon},{label:"Upload Activity",href:"/ingestion/activity",icon:a.CloudArrowUpIcon},{label:"Pipeline Health",href:"/extraction",icon:s.ArrowTrendingUpIcon},{label:"Search Finder",href:"/search",icon:l.MagnifyingGlassIcon}];function g({currentStep:e,children:s}){return(0,t.jsxs)("div",{className:"flex min-h-screen bg-[#f7f9fb] text-slate-900",children:[(0,t.jsxs)("aside",{className:"sticky top-0 hidden h-screen w-72 flex-col border-r border-slate-200 bg-white/90 px-6 py-8 shadow-[20px_0_45px_rgba(15,23,42,0.06)] backdrop-blur lg:flex",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-slate-900 text-2xl text-white shadow-[0_15px_40px_rgba(15,23,42,0.3)]",children:""}),(0,t.jsxs)("div",{className:"leading-tight",children:[(0,t.jsx)("p",{className:"text-[0.80rem] font-semibold uppercase tracking-[0.80em] text-slate-900",children:"Content"}),(0,t.jsx)("p",{className:"text-lg font-semibold text-slate-900",children:"Lake"})]})]}),(0,t.jsx)("nav",{className:"mt-10 flex flex-1 flex-col gap-8 text-sm",children:(0,t.jsx)(b,{title:"Workspace",links:h})}),(0,t.jsxs)("div",{className:"space-y-4 text-xs text-slate-500",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-4",children:[(0,t.jsx)("p",{className:"font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Storage"}),(0,t.jsxs)("div",{className:"mt-3 flex items-end justify-between",children:[(0,t.jsx)("p",{className:"text-3xl font-semibold text-slate-900",children:"82%"}),(0,t.jsx)("span",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.25em]",children:"Used"})]}),(0,t.jsx)("div",{className:"mt-3 h-2 rounded-full bg-white",children:(0,t.jsx)("span",{className:"block h-full rounded-full bg-slate-900",style:{width:"82%"}})})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-white px-4 py-3",children:[(0,t.jsx)("p",{className:"text-[0.65rem] font-semibold uppercase tracking-[0.25em] text-slate-400",children:"Need help?"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-900",children:"Talk with a pipeline specialist."}),(0,t.jsxs)("button",{className:"mt-3 inline-flex w-full items-center justify-center gap-2 rounded-2xl border border-slate-900 px-3 py-2 text-xs font-semibold tracking-wide text-slate-900 transition hover:bg-slate-900 hover:text-white",children:[(0,t.jsx)(r.ArrowPathRoundedSquareIcon,{className:"size-4"}),"Contact Support"]})]})]})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 bg-white/95 px-4 py-4 text-sm font-semibold text-slate-900 shadow-sm lg:hidden",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Content Lake"}),(0,t.jsx)("span",{className:"text-[0.65rem] uppercase tracking-[0.35em] text-slate-400",children:"· Workflow"})]}),(0,t.jsx)("span",{children:e})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"sticky top-0 z-30 border-b border-slate-200 bg-[#f7f9fb]/90 backdrop-blur",children:(0,t.jsx)("div",{className:"mx-auto max-w-6xl px-6 py-6",children:(0,t.jsx)(p,{current:e})})}),(0,t.jsx)("div",{children:s})]})]})]})}function b({title:e,links:r}){return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:e}),(0,t.jsx)("div",{className:"mt-3 space-y-1.5",children:r.map(e=>(0,t.jsxs)(i.default,{href:e.href,className:"flex items-center gap-3 rounded-2xl px-3 py-2 font-semibold text-slate-500 transition hover:text-slate-900",children:[(0,t.jsx)(e.icon,{className:"size-4 text-slate-900"}),e.label]},e.href))})]})}function y({title:e,description:r,eyebrow:s,actionsSlot:a}){return(0,t.jsx)("section",{className:"border-b border-slate-200 bg-[#f7f9fb]",children:(0,t.jsxs)("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-3 px-6 py-10",children:[s&&(0,t.jsx)("span",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-slate-400",children:s}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-end lg:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h1",{className:"text-4xl font-semibold text-slate-900",children:e}),r&&(0,t.jsx)("p",{className:"text-base text-slate-500 lg:max-w-2xl",children:r})]}),a&&(0,t.jsx)("div",{className:"flex items-end justify-start lg:justify-end",children:a})]})]})})}e.s(["PipelineShell",()=>g],6330),e.s(["StageHero",()=>y],25180)},36898,(e,t,r)=>{t.exports=e.r(62990)},26668,82595,e=>{"use strict";let t="extraction-context",r="cleansed-context",s="enrichment-context",a=(e,t)=>{try{return sessionStorage.setItem(e,JSON.stringify(t)),{ok:!0}}catch(t){if("undefined"!=typeof DOMException&&t instanceof DOMException&&("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name||22===t.code||1014===t.code))return console.warn(`Session storage quota exceeded while saving '${e}'.`),{ok:!1,reason:"quota"};return console.error(`Failed to persist '${e}' to sessionStorage`,t),{ok:!1,reason:"unknown"}}},n=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse session storage payload",e),null}};e.s(["clearCleansedContext",0,()=>{sessionStorage.removeItem(r)},"clearEnrichmentContext",0,()=>{sessionStorage.removeItem(s)},"clearExtractionContext",0,()=>{sessionStorage.removeItem(t)},"loadCleansedContext",0,()=>n(sessionStorage.getItem(r)),"loadEnrichmentContext",0,()=>n(sessionStorage.getItem(s)),"loadExtractionContext",0,()=>n(sessionStorage.getItem(t)),"saveCleansedContext",0,e=>{let t,s=((t={...e,items:Array.isArray(e.items)?[...e.items]:[]}).items.length>150&&(t.items=t.items.slice(0,150),t.itemsTruncated=!0),"string"==typeof t.rawBody&&t.rawBody.length>2e5&&(t.rawBody=t.rawBody.slice(0,2e5),t.rawBodyTruncated=!0),t),n=a(r,s);if(!n.ok&&"quota"===n.reason){let e=a(r,{metadata:s.metadata,status:s.status,items:[],fallbackReason:"quota"});return e.ok?{ok:!0,reason:"quota",usedFallback:!0}:e}return n},"saveEnrichmentContext",0,e=>a(s,e),"saveExtractionContext",0,e=>{let r;return a(t,("string"==typeof(r={...e,backendPayload:void 0}).rawJson&&r.rawJson.length>5e5&&(r.rawJson=r.rawJson.slice(0,5e5)),r))}],26668),e.s(["describeSourceLabel",0,(e,t="Unknown source")=>{if(!e)return t;let r=e.toLowerCase();return r.includes("api")?"API payload":r.includes("s3")||r.includes("cloud")?"S3 / Cloud":r.includes("class")?"Classpath resource":r.includes("local")?"Local upload":r.includes("file")?"File upload":e},"inferSourceType",0,(e,t,r)=>{let s=e?.toLowerCase();if(s)return s;if(!t)return r;let a=t.toLowerCase();return a.startsWith("file-upload")||a.startsWith("local:")?"file":a.startsWith("api-payload")||a.includes("api")?"api":a.startsWith("s3://")||a.includes("s3")?"s3":a.startsWith("classpath:")?"classpath":r},"pickString",0,e=>{if("string"!=typeof e)return;let t=e.trim();return t.length?t:void 0}],82595)},60566,77839,e=>{"use strict";var t=e.i(69071);let r=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});e.s(["ChevronDownIcon",0,r],60566);let s=t.forwardRef(function({title:e,titleId:r,...s},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},s),e?t.createElement("title",{id:r},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});e.s(["ChevronRightIcon",0,s],77839)},96039,e=>{"use strict";var t=e.i(42516),r=e.i(60566),s=e.i(77839),a=e.i(69071),n=e.i(36898),l=e.i(26668),i=e.i(6330),o=e.i(25180),c=e.i(82595);let d=["analytics","disclaimers","pageanalyticsattributes","alt","analyticsattributes","url"],u={ENRICHMENT_TRIGGERED:"Queued for enrichment",WAITING_FOR_RESULTS:"Awaiting AI output",ENRICHMENT_RUNNING:"Enrichment running",PARTIALLY_ENRICHED:"Partially enriched",ENRICHMENT_COMPLETE:"Enrichment complete",ERROR:"Failed"},m={ENRICHMENT_TRIGGERED:{className:"text-indigo-700",dot:"bg-indigo-400",background:"bg-indigo-50"},WAITING_FOR_RESULTS:{className:"text-amber-700",dot:"bg-amber-400",background:"bg-amber-50"},ENRICHMENT_RUNNING:{className:"text-sky-700",dot:"bg-sky-400",background:"bg-sky-50"},ENRICHMENT_COMPLETE:{className:"text-emerald-700",dot:"bg-emerald-500",background:"bg-emerald-50"},PARTIALLY_ENRICHED:{className:"text-sky-700",dot:"bg-sky-400",background:"bg-sky-50"},ERROR:{className:"text-rose-700",dot:"bg-rose-400",background:"bg-rose-50"}},x=e=>"object"==typeof e&&null!==e,f=e=>{if(Array.isArray(e))return e.map(e=>"string"==typeof e?e.trim():x(e)?(0,c.pickString)(e.label)??(0,c.pickString)(e.name)??(0,c.pickString)(e.value)??(0,c.pickString)(e.text)??void 0:void 0).filter(e=>!!e);if("string"==typeof e){let t=e.trim();if(!t)return[];if(t.startsWith("[")&&t.endsWith("]")){let e=(e=>{try{let t=JSON.parse(e);if(Array.isArray(t))return t.map(e=>"string"==typeof e?e.trim():void 0).filter(e=>!!e)}catch{}return[]})(t);if(e.length)return e}return t.split(/[,|;>]+/).map(e=>e.trim()).filter(Boolean)}if(x(e)){if(Array.isArray(e.values))return f(e.values);if(Array.isArray(e.items))return f(e.items);if(Array.isArray(e.labels))return f(e.labels);if(Array.isArray(e.tags))return f(e.tags)}return[]},p=(e,t)=>{for(let r of t)for(let t of e){let e=(0,c.pickString)(t[r]);if(e)return e}},h=(e,t)=>{for(let r of t)for(let t of e){let e=f(t[r]);if(e.length)return e}return[]},g=(e,t=0)=>{if(t>5||null==e)return[];if(Array.isArray(e)){let r=e.filter(x);if(r.length)return r;for(let r of e){let e=g(r,t+1);if(e.length)return e}return[]}if(x(e)){for(let t of Object.values(e))if(Array.isArray(t)){let e=t.filter(x);if(e.length)return e}for(let r of Object.values(e)){let e=g(r,t+1);if(e.length)return e}}return[]},b=(e,t,r=0)=>{if(!(r>5)&&null!=e){if(x(e)){for(let r of t)if(r in e){let t=N(e[r]);if(void 0!==t)return t}for(let s of Object.values(e)){let e=b(s,t,r+1);if(void 0!==e)return e}}else if(Array.isArray(e))for(let s of e){let e=b(s,t,r+1);if(void 0!==e)return e}}},y=(e,t)=>{for(let r of t)for(let t of e){let e=N(t[r]);if(void 0!==e)return e}},j=e=>{let t=e.includes("::")?e.split("::").pop()?.trim()??e:e,r=t.split("/").filter(Boolean);return(r[r.length-1]??t).replace(/[-_]/g," ").trim()||"Enriched section"},w=[{status:"ENRICHMENT_TRIGGERED",timestamp:0},{status:"WAITING_FOR_RESULTS",timestamp:0}],v=async e=>{let t=await e.text(),r=t.trim(),s=null;if(r.length)try{s=JSON.parse(r)}catch{s=null}return{body:s,rawBody:(r.startsWith("<!DOCTYPE")||r.startsWith("<html"))&&e.status?`${e.status} ${e.statusText||""}`.trim()||"HTML response returned.":t}},N=e=>{if("number"==typeof e&&Number.isFinite(e))return e};function k(){var e;let f=(0,n.useRouter)(),k=(0,n.useSearchParams)().get("id"),E=(e=(0,l.loadEnrichmentContext)())?{metadata:e.metadata,startedAt:e.startedAt,statusHistory:e.statusHistory}:null,[S,_]=(0,a.useState)(E),[I,C]=(0,a.useState)(!E),[T,R]=(0,a.useState)(null),[A,L]=(0,a.useState)({state:"idle"}),[M,O]=(0,a.useState)({state:"idle"}),[P,F]=(0,a.useState)(null),[D,U]=(0,a.useState)(null),[$,B]=(0,a.useState)(null),[W,H]=(0,a.useState)(k??E?.metadata.cleansedId??null);(0,a.useEffect)(()=>{let e=E?.metadata.cleansedId??null;H(k??e)},[k,E?.metadata.cleansedId]);let G=async e=>{let t=await fetch(`/api/ingestion/enrichment/status?id=${encodeURIComponent(e)}`),{body:r,rawBody:s}=await v(t);if(!t.ok)throw Error(r?.error??s??"Backend rejected the enrichment status request.");let a=r??{},n=null;a.body&&"object"==typeof a.body?n=a.body:"body"in a||"object"!=typeof a||(n=a);let l=((e,t,r)=>{if(!e)return t;let s=e.metadata&&"object"==typeof e.metadata?e.metadata:null,a={...t};if(s){a.name=(0,c.pickString)(s.name)??a.name,a.source=(0,c.pickString)(s.source)??a.source,a.cleansedId=(0,c.pickString)(s.cleansedId)??a.cleansedId,a.sourceIdentifier=(0,c.pickString)(s.sourceIdentifier)??a.sourceIdentifier,a.sourceType=(0,c.pickString)(s.sourceType)??a.sourceType;let e=N(s.uploadedAt);e&&(a.uploadedAt=e);let t=N(s.size);void 0!==t&&(a.size=t)}let n=(0,c.pickString)(e.sourceIdentifier)??(0,c.pickString)(e.sourceUri)??a.sourceIdentifier,l=(0,c.inferSourceType)((0,c.pickString)(e.sourceType),n??a.sourceIdentifier,a.sourceType)??a.sourceType;return a.sourceIdentifier=n??a.sourceIdentifier,a.sourceType=l,a.source=(0,c.describeSourceLabel)(l,a.source),a.cleansedId=(0,c.pickString)(e.cleansedId)??(0,c.pickString)(e.cleansedDataStoreId)??a.cleansedId??r,a})(n,E?.metadata??void 0??{name:"Unknown dataset",size:0,source:"Unknown source",uploadedAt:Date.now(),cleansedId:e},e),i=Array.isArray(n?.statusHistory)?n?.statusHistory:null;return{metadata:l,startedAt:N(n?.startedAt)??N(a.startedAt)??Date.now(),statusHistory:i&&i.length?i:w}},z=async(e,t={})=>{let{showSpinner:r=!0,rethrowOnError:s=!1}=t;if(!e)return C(!1),R("Provide a cleansed ID via the URL or trigger a new run."),_(E),null;r&&C(!0),R(null);try{let t=await G(e);return _(t),t}catch(e){if(R(e instanceof Error?e.message:"Unable to load enrichment status."),!r&&E?_(E):E||_(null),s)throw e;return null}finally{r&&C(!1)}},K=async(e,t=!0)=>{t&&O({state:"loading"});try{let t=await fetch(`/api/ingestion/enrichment/result?id=${encodeURIComponent(e)}`),{body:r,rawBody:s}=await v(t);if(!t.ok){if(404===t.status){F(null),U("Awaiting enrichment results."),O({state:"idle"});return}throw Error(r?.error??s??"Backend rejected the enrichment result request.")}let a=r??{},n=(e=>{if(!e)return{metrics:{},elements:[]};let t=x(e)&&e.body&&"object"==typeof e.body?e.body:e,r={totalFieldsTagged:b(t,["totalFieldsTagged","fieldsTagged","taggedFields","totalFields","fieldCount","total_fields_tagged","total_tagged_fields","total_enriched_fields","total_enriched_elements"]),readabilityDelta:b(t,["readabilityImproved","readabilityDelta","readabilityScoreDelta","readability","readabilityImprovement","readability_improved","readability_gain","readability_gain_percent","readabilityIncreasePercent"]),errorsFound:b(t,["errorsFound","errorCount","errors","errors_detected","error_total"])},s=[];if(x(t)){for(let e of["enriched_content_elements","enrichedContentElements","enrichment_sections","enrichmentSections","elements","records","rows","data"])if(Array.isArray(t[e])&&(s=t[e].filter(x)).length)break}if(s.length||(s=g(t)),!s.length)return{metrics:r,elements:[]};let a=s.map((e,t)=>{let r=[e];["data","attributes","meta","context","details","fields"].forEach(t=>{let s=e[t];x(s)&&r.push(s)});let s=p(r,["id","sectionId","elementId","element_id","contentId","content_id","hash","recordId"])??`element-${t}`,a=p(r,["item_original_field_name","itemOriginalFieldName","originalFieldName","original_field_name","title","label","name","field","section","heading","elementTitle","element_title","content_name"])??`Element ${t+1}`,n=p(r,["item_source_path","itemSourcePath","path","source_path","breadcrumb","hierarchy","location","elementPath","element_path","sectionPath","section_path"])??p(r,["parent","group","category"]),l=p(r,["copy","content","text","value","enrichedCopy","enriched_copy","output","body","copy_text","copyText","copyValue","aiCopy","ai_copy","cleansedText","cleansed_text","cleansedValue","cleansed_value","cleansedContent","cleansed_content","cleansedCopy","cleansed_copy"])??void 0,i=p(r,["summary","aiSummary","insights","analysis","result"])??p(r,["summary_text","ai_summary","summaryText"])??l??void 0,o=h(r,["classification","classifications","categories","category","taxonomy","classification_path","classificationPath","category_path"]),d=h(r,["keywords","keywordList","searchKeywords"]),u=h(r,["tags","labels","contentTags","tagList","content_tags"]),m=(e=>{for(let t of e){let e=(0,c.pickString)(t.sentiment)??(0,c.pickString)(t.sentimentLabel)??(0,c.pickString)(t.sentiment_label)??(0,c.pickString)(t.tone)??(0,c.pickString)(t.mood),r=N(t.sentimentScore)??N(t.sentiment_score)??N(t.score)??N(t.sentimentConfidence);if(e)return{label:e,score:r};let s=(x(t.sentiment)?t.sentiment:null)??(x(t.sentimentAnalysis)?t.sentimentAnalysis:null);if(s){let e=(0,c.pickString)(s.label)??(0,c.pickString)(s.result)??(0,c.pickString)(s.tone);if(e)return{label:e,score:N(s.score)??N(s.confidence)??r}}}return null})(r),f=y(r,["fieldsTagged","fieldCount","totalFieldsTagged","total_fields_tagged"]),g=y(r,["readabilityImproved","readabilityDelta","readabilityScoreDelta","readability_improved","readability_gain"]);return{id:s,title:a,path:n??void 0,copy:l,summary:i,classification:o,keywords:d,tags:u,sentiment:m,meta:{fieldsTagged:f,readabilityDelta:g,errorsFound:y(r,["errorsFound","errorCount","errors"])}}}),n={...r};return null==n.totalFieldsTagged&&(n.totalFieldsTagged=a.reduce((e,t)=>e+(t.meta?.fieldsTagged??0),0)||(a.length?a.length:0)||null),null==n.readabilityDelta&&(n.readabilityDelta=a.find(e=>e.meta?.readabilityDelta!==void 0)?.meta?.readabilityDelta??null),null==n.errorsFound&&(n.errorsFound=a.reduce((e,t)=>e+(t.meta?.errorsFound??0),0)||null),{metrics:n,elements:a}})(a);F(n);let l=a.body??a.rawBody??s??"Awaiting enrichment results.";n.elements.length?(U(null),_(e=>e)):U((e=>{if("string"==typeof e)return e;if(e&&"object"==typeof e){for(let t of["summary","aiSummary","insights","result","text","content"]){let r=e[t];if("string"==typeof r&&r.trim())return r}return JSON.stringify(e,null,2)}return"Awaiting enrichment results."})(l)),O({state:"idle"})}catch(e){F(null),U(null),O({state:"error",message:e instanceof Error?e.message:"Unable to load enrichment results."})}},q=(0,a.useMemo)(()=>P?.elements.length?P.elements.filter(e=>{let t;return!((t=e.title?.toLowerCase().trim())&&d.some(e=>t===e||t.startsWith(`${e}[`)||t.startsWith(`${e}.`)||t.includes(`${e}:`)))}):[],[P?.elements]),J=(0,a.useMemo)(()=>{if(!q.length)return[];let e=new Map;return q.forEach((t,r)=>{let s=t.path?.trim()?t.path.trim():t.title?.trim()?`title:${t.title.trim().toLowerCase()}`:`group-${r}`,a=e.get(s);a?a.elements.push(t):e.set(s,{label:s.startsWith("title:")?s.replace(/^title:/,""):t.path?.trim()?j(t.path):t.title?.trim()??`Element group ${r+1}`,elements:[t]})}),Array.from(e.entries()).map(([e,t])=>({id:e||`group-${t.label}-${t.elements.length}`,label:t.label,elements:t.elements}))},[q]),[V,Z]=(0,a.useState)(new Set);(0,a.useEffect)(()=>{if(!J.length){Z(new Set),B(null);return}Z(new Set(J.map(e=>e.id))),B(e=>e&&q.some(t=>t.id===e)?e:q[0]?.id??null)},[J,q]),(0,a.useEffect)(()=>{z(W).catch(()=>void 0)},[W]),(0,a.useEffect)(()=>{S?.metadata.cleansedId&&K(S.metadata.cleansedId,!0)},[S?.metadata.cleansedId]);let Q=S?.statusHistory?.length?S.statusHistory:w,Y=Q[Q.length-1]?.status??"WAITING_FOR_RESULTS",X=m[Y]??{className:"text-slate-700",dot:"bg-slate-300",background:"bg-slate-100"},ee=(0,a.useMemo)(()=>{let e=["ENRICHMENT_TRIGGERED","WAITING_FOR_RESULTS","ENRICHMENT_RUNNING","PARTIALLY_ENRICHED","ENRICHMENT_COMPLETE"],t=e.findIndex(e=>e===Y);return t>=0?(t+1)/e.length*100:Math.min(Q.length,e.length)/e.length*100},[Y,Q.length]);(0,a.useEffect)(()=>{if(!J.length){Z(new Set),B(null);return}Z(new Set(J.map(e=>e.id))),B(e=>e&&q.some(t=>t.id===e)?e:q[0]?.id??null)},[J,q]);let et=P?.metrics??{},er=null!==et.totalFieldsTagged&&void 0!==et.totalFieldsTagged?Math.round(et.totalFieldsTagged):null,es=null!==et.readabilityDelta&&void 0!==et.readabilityDelta?et.readabilityDelta:null,ea=null!==et.errorsFound&&void 0!==et.errorsFound?et.errorsFound:null,en=null!==es&&Number.isFinite(es)?1>=Math.abs(es)?100*es:es:null,el=null!==en?`${en>0?"+":""}${Math.round(en)}%`:null,ei=null!==ea?Math.max(0,Math.round(ea)):null,eo=(e,r)=>e.length?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(e=>(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-slate-100 px-2.5 py-1 text-xs font-semibold text-slate-700",children:e},e))}):(0,t.jsx)("p",{className:"text-sm text-slate-500",children:r}),ec=async()=>{if(!W)return void L({state:"error",message:"Cleansed ID missing; re-run cleansing before enrichment."});L({state:"loading"});try{await z(W,{showSpinner:!1,rethrowOnError:!0}),L({state:"success",message:"Status refreshed."}),await K(W,!1)}catch(e){L({state:"error",message:e instanceof Error?e.message:"Unable to refresh status."})}};if(I)return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6 py-20",children:(0,t.jsxs)("div",{className:"max-w-xl rounded-3xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Enrichment"}),(0,t.jsx)("h1",{className:"mt-2 text-2xl font-semibold text-slate-900",children:"Loading status…"}),(0,t.jsx)("p",{className:"mt-4 text-sm text-slate-500",children:"Fetching enrichment details from the backend. One moment please."})]})});if(!S)return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6 py-20",children:(0,t.jsxs)("div",{className:"max-w-xl rounded-3xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Enrichment"}),(0,t.jsx)("h1",{className:"mt-2 text-2xl font-semibold text-slate-900",children:T??"Enrichment data not found"}),(0,t.jsx)("p",{className:"mt-4 text-sm text-slate-500",children:"Trigger enrichment from the cleansing screen to review progress here."}),(0,t.jsx)("button",{type:"button",onClick:()=>f.push("/cleansing"),className:"mt-6 rounded-full bg-slate-900 px-6 py-2 text-sm font-semibold text-white",children:"Back to Cleansing"})]})});let ed=(0,c.describeSourceLabel)(S.metadata.sourceType??S.metadata.source,S.metadata.source),eu=S.metadata.sourceIdentifier??"—";return(0,t.jsxs)(i.PipelineShell,{currentStep:"enrichment",children:[(0,t.jsx)(o.StageHero,{title:"Enrichment",description:`Monitor enrichment for ${S.metadata.name}`,actionsSlot:"idle"!==A.state?(0,t.jsx)("div",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${"loading"===A.state?"bg-indigo-50 text-indigo-600":"success"===A.state?"bg-emerald-50 text-emerald-700":"bg-rose-50 text-rose-700"}`,children:A.message??("loading"===A.state?"Refreshing status…":"success"===A.state?"Status updated.":"Unable to refresh status.")}):null}),(0,t.jsxs)("main",{className:"mx-auto flex max-w-6xl flex-col gap-6 px-6 py-10",children:[(0,t.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Current status"}),(0,t.jsxs)("div",{className:`mt-2 inline-flex items-center gap-2 rounded-full px-4 py-2 text-sm font-semibold ${X.background} ${X.className}`,children:[(0,t.jsx)("span",{className:`h-2 w-2 rounded-full ${X.dot}`}),u[Y]??Y]})]}),(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Pipeline progress"}),(0,t.jsx)("div",{className:"mt-2 h-2 rounded-full bg-slate-100",children:(0,t.jsx)("div",{className:"h-full rounded-full bg-indigo-500 transition-all",style:{width:`${ee}%`}})}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-slate-500",children:[Math.round(ee),"% complete"]})]}),(0,t.jsx)("button",{type:"button",onClick:ec,className:"rounded-full border border-slate-300 px-4 py-2 text-xs font-semibold text-slate-700 transition hover:border-indigo-300 hover:text-indigo-700",children:"Refresh Status"})]}),(0,t.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Total fields tagged"}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:er??"—"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Readability improved"}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:el??"—"})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Errors found"}),(0,t.jsx)("p",{className:"mt-2 text-2xl font-semibold text-slate-900",children:ei??"—"})]})]}),(0,t.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Cleansed ID"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:S.metadata.cleansedId??"—"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Source"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:ed})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Source identifier"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900 break-all",children:eu})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Started at"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:new Date(S.startedAt).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Last update"}),(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:new Date(Q[Q.length-1]?.timestamp??S.startedAt).toLocaleString()})]})]})]}),(0,t.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Status timeline"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Pipeline events"}),(0,t.jsx)("div",{className:"mt-4 space-y-4 border-l border-slate-200 pl-6",children:Q.map(e=>{let r=m[e.status]??{className:"text-slate-700",dot:"bg-slate-300"};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:`absolute -left-[33px] mt-1 inline-flex h-3 w-3 rounded-full ${r.dot}`}),(0,t.jsx)("p",{className:`text-sm font-semibold ${r.className}`,children:u[e.status]??e.status}),(0,t.jsx)("p",{className:"text-xs text-slate-500",children:new Date(e.timestamp).toLocaleString()})]},`${e.status}-${e.timestamp}`)})})]}),(0,t.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Insights"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"AI summary preview"})]}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:"Read-only snapshot of the most recent enrichment output."})]}),"loading"===M.state?(0,t.jsx)("div",{className:"mt-4 rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-sm text-slate-500",children:"Loading enrichment summary…"}):"error"===M.state?(0,t.jsxs)("div",{className:"mt-4 rounded-2xl border border-amber-200 bg-amber-50 p-4",children:[(0,t.jsx)("p",{className:"font-semibold text-amber-800",children:"Unable to load enrichment summary."}),(0,t.jsx)("p",{className:"text-xs text-amber-900/80",children:M.message}),(0,t.jsx)("button",{type:"button",onClick:()=>S.metadata.cleansedId&&K(S.metadata.cleansedId,!0),className:"mt-3 rounded-full bg-amber-600 px-3 py-1 text-xs font-semibold text-white",children:"Retry"})]}):P?.elements.length?(0,t.jsxs)("div",{className:"mt-6 rounded-2xl border border-slate-100 bg-slate-50 p-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Enriched sections"}),(0,t.jsxs)("div",{className:"mt-3 max-h-[480px] space-y-3 overflow-y-auto pr-2",children:[J.map(e=>{let a=V.has(e.id);return(0,t.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-white",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{var t;return t=e.id,void Z(e=>{let r=new Set(e);return r.has(t)?r.delete(t):r.add(t),r})},className:"flex w-full items-center justify-between gap-3 px-4 py-2 text-left text-sm font-semibold text-slate-800",children:[(0,t.jsx)("span",{className:"flex-1 truncate",children:e.label}),(0,t.jsx)("span",{className:"text-xs font-semibold text-slate-400",children:e.elements.length}),a?(0,t.jsx)(r.ChevronDownIcon,{className:"size-4 text-slate-400"}):(0,t.jsx)(s.ChevronRightIcon,{className:"size-4 text-slate-400"})]}),a&&(0,t.jsx)("div",{className:"space-y-2 border-t border-slate-100 bg-slate-50 px-3 py-3",children:e.elements.map((e,a)=>{let n=$===e.id,l=e.path?.trim(),i=e.title?.trim()??"",o=i.length>0?i:l?j(l):`Field ${a+1}`,c=e.summary??e.copy??"No preview available.";return(0,t.jsxs)("div",{className:"rounded-lg border border-slate-200 bg-white",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>{var t;return t=e.id,void B(e=>e===t?null:t)},className:"flex w-full items-center justify-between gap-3 px-3 py-2 text-left text-sm text-slate-800",children:[(0,t.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:o}),l?(0,t.jsxs)("p",{className:"truncate text-xs text-slate-500",children:["Source path ·"," ",(0,t.jsx)("span",{className:"font-semibold text-slate-700",children:l})]}):(0,t.jsx)("p",{className:"truncate text-xs text-slate-500",children:c})]}),n?(0,t.jsx)(r.ChevronDownIcon,{className:"size-4 text-slate-400"}):(0,t.jsx)(s.ChevronRightIcon,{className:"size-4 text-slate-400"})]}),n&&(0,t.jsxs)("div",{className:"space-y-4 border-t border-slate-100 bg-slate-50 px-4 py-4 text-sm text-slate-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Enriched copy"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-slate-800",children:e.copy??"No enriched copy provided yet."})]}),(0,t.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-white p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Content insights"}),(0,t.jsx)("h3",{className:"text-base font-semibold text-slate-900",children:"Summary"})]}),(0,t.jsx)("span",{className:"text-xs font-semibold text-slate-500",children:e.classification?.length?"2 fields":"1 field"})]}),(0,t.jsx)("p",{className:"mt-3 text-sm text-slate-700",children:e.summary??"Summary not available yet."}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Classification"}),eo(e.classification??[],"No classification detected.")]})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-white p-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Search metadata"}),(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Keywords"}),eo(e.keywords??[],"Keywords pending enrichment.")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Content tags"}),eo(e.tags??[],"Tags pending enrichment.")]})]})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-white p-4",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Tone & sentiment"}),(0,t.jsx)("div",{className:"mt-4 rounded-2xl border border-emerald-100 bg-emerald-50 p-4",children:e.sentiment?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-emerald-700",children:e.sentiment.label}),void 0!==e.sentiment.score&&(0,t.jsxs)("p",{className:"text-xs text-emerald-800",children:["Score: ",Math.round(100*e.sentiment.score)/100]})]}):(0,t.jsx)("p",{className:"text-sm text-emerald-800/80",children:"Sentiment analytics will appear after enrichment completes."})})]})]})]})]},e.id)})})]},e.id)}),!J.length&&(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"No enriched sections available yet."})]})]}):D?(0,t.jsx)("div",{className:"mt-4 rounded-2xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-700",children:(0,t.jsx)("pre",{className:"whitespace-pre-wrap",children:D})}):(0,t.jsx)("div",{className:"mt-4 rounded-2xl border border-slate-100 bg-slate-50 p-4 text-sm text-slate-500",children:"Awaiting enrichment results. Once the backend finishes generating AI insights, they’ll appear here automatically. Use the “Refresh status” button above to check for updates."})]}),(0,t.jsx)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Next steps"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Wrap up or keep monitoring"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>f.push("/cleansing"),className:"rounded-full border border-slate-300 px-4 py-2 text-xs font-semibold text-slate-700",children:"Back to Cleansing"}),(0,t.jsx)("button",{type:"button",onClick:ec,className:"rounded-full border border-slate-300 px-4 py-2 text-xs font-semibold text-slate-700",children:"Refresh Status"}),(0,t.jsx)("button",{type:"button",onClick:()=>{(0,l.clearEnrichmentContext)(),f.push("/ingestion")},className:"rounded-full bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:"Finish Session"})]})]})})]})]})}function E(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 px-6 py-20",children:(0,t.jsxs)("div",{className:"max-w-xl rounded-3xl border border-slate-200 bg-white p-10 text-center shadow-sm",children:[(0,t.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Enrichment"}),(0,t.jsx)("h1",{className:"mt-2 text-2xl font-semibold text-slate-900",children:"Loading enrichment dashboard…"}),(0,t.jsx)("p",{className:"mt-4 text-sm text-slate-500",children:"Fetching the latest enrichment context."})]})}),children:(0,t.jsx)(k,{})})}e.s(["default",()=>E])}]);